---
import type { ComponentProps, HTMLAttributes } from "astro/types";
import { useI18n } from "../../../utils/i18n";
import Toggle from "../../molecules/toggle/toggle.astro";

type Props = HTMLAttributes<"form">;

const { class: className, id, ...attrs } = Astro.props;
const { translate } = useI18n(Astro.currentLocale);
const idPrefix = id ? `${id}-` : "";
const themes = [
  {
    id: `${idPrefix}auto`,
    label: translate("theme.label.auto"),
    value: "auto",
  },
  {
    id: `${idPrefix}dark`,
    label: translate("theme.label.dark"),
    value: "dark",
  },
  {
    id: `${idPrefix}light`,
    label: translate("theme.label.light"),
    value: "light",
  },
] satisfies ComponentProps<typeof Toggle>["items"];
---

<form {...attrs} class:list={["settings-form", className]} id={id}>
  <Toggle
    groupName={`${idPrefix}theme`}
    items={themes}
    label={translate("form.settings.label.theme.website")}
    value="auto"
  />
</form>
