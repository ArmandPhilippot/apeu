---
import Layout from "virtual:astro-stories/Layout";
import type { Story } from "../types/internal";
import type { StoryEntry } from "../types/public";

type Props = Story;

const { path, ...props } = Astro.props;
const { Content, components, frontmatter, getHeadings } = (await import(
  /* @vite-ignore */
  `${path}`
)) as typeof import("*.mdx");
const headings = getHeadings();
const story: StoryEntry<typeof frontmatter> = {
  ...props,
  frontmatter,
  headings,
};
---

<Layout story={story}>
  <Content components={components} />
</Layout>
