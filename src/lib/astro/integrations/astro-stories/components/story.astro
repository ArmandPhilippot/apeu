---
import Layout from "virtual:astro-stories/Layout";
import type { Story, StoryEntry } from "../types";

type Props = Story;

const { pathWithoutExt, ...props } = Astro.props;
const { Content, components, frontmatter, getHeadings } = (await import(
  /* @vite-ignore */
  `${pathWithoutExt}.mdx`
)) as typeof import("*.mdx");
const headings = getHeadings();
const story: StoryEntry<typeof frontmatter> = {
  ...props,
  frontmatter,
  headings,
};
---

<Layout story={story}>
  <Content components={components} />
</Layout>
